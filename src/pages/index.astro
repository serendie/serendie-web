---
export const prerender = true;

import TopLayout from "@/layouts/TopLayout.astro";
import { LinkContent } from "@/components/toppage/LinkContent";
import Showcase from "@/components/toppage/Showcase.astro";
import { styled } from "styled-system/jsx";
import ReleaseNote from "@/components/toppage/ReleaseNote.astro";
import Contact from "@/components/toppage/Contact.astro";
import { BackgroundShape } from "@/components/toppage/BackgroundShape";
import { Header } from "@/components/toppage/Header";

import IconAccordion from "@/assets/toppage/icons/accordion.svg?raw";
import IconSearch from "@/assets/toppage/icons/search.svg?raw";
import IconButton from "@/assets/toppage/icons/button.svg?raw";
import IconColor from "@/assets/toppage/icons/color-.svg?raw";
import IconDesignTokens from "@/assets/toppage/icons/design-tokens.svg?raw";
import IconDesign from "@/assets/toppage/icons/design.svg?raw";
import IconDev from "@/assets/toppage/icons/dev.svg?raw";
import IconDimension from "@/assets/toppage/icons/dimemntion.svg?raw";
import IconElevation from "@/assets/toppage/icons/elevation.svg?raw";
import IconIcon from "@/assets/toppage/icons/icon.svg?raw";
import IconIllustration from "@/assets/toppage/icons/illustration.svg?raw";
import IconList from "@/assets/toppage/icons/list.svg?raw";
import IconSeeAll from "@/assets/toppage/icons/see-all.svg?raw";
import IconSelect from "@/assets/toppage/icons/select.svg?raw";
import IconTabs from "@/assets/toppage/icons/tabs.svg?raw";
import IconTextField from "@/assets/toppage/icons/text-field.svg?raw";
import IconTheming from "@/assets/toppage/icons/theming.svg?raw";
import IconTypography from "@/assets/toppage/icons/typography.svg?raw";

const Container = styled("div", {
  base: {
    px: "24px",
    textStyle: "_Web.body.small.PC.R",
    maxWidth: "calc(1640px + 300px)",
    mx: "auto",
    expanded: {
      px: "150px",
      lgDown: {
        px: "48px",
      },
    },
  },
});

const content = [
  {
    titleEn: "Get Started",
    description: "",
    links: [
      {
        title: "デザイン",
        href: "/get-started/design",
        illustration: IconDesign,
      },
      {
        title: "開発",
        href: "/get-started/dev",
        illustration: IconDev,
      },
    ],
  },
  {
    titleEn: "Foundations",
    description: "",
    links: [
      {
        title: "デザイントークン",
        href: "/foundations/design-tokens",
        illustration: IconDesignTokens,
      },
      {
        title: "カラー",
        href: "/foundations/color",
        illustration: IconColor,
      },
      {
        title: "データビジュアライゼーション",
        href: "/foundations/data-visualization",
        illustration: IconDimension,
      },
      {
        title: "テーミング",
        href: "/foundations/theming",
        illustration: IconTheming,
      },
      {
        title: "タイポグラフィ",
        href: "/foundations/typography",
        illustration: IconTypography,
      },
      {
        title: "寸法",
        href: "/foundations/dimension",
        illustration: IconDimension,
      },
      {
        title: "階層",
        href: "/foundations/elevation",
        illustration: IconElevation,
      },
      {
        title: "アイコン",
        href: "/foundations/icon",
        illustration: IconIcon,
      },
      {
        title: "イラストレーション",
        href: "/foundations/illustration",
        illustration: IconIllustration,
      },
    ],
  },
  {
    titleEn: "Components",
    description: "",
    links: [
      {
        title: "Accordion",
        href: "/components/accordion",
        illustration: IconAccordion,
      },
      {
        title: "Button",
        href: "/components/button",
        illustration: IconButton,
      },
      {
        title: "List",
        href: "/components/list",
        illustration: IconList,
      },
      {
        title: "Search",
        href: "/components/search",
        illustration: IconSearch,
      },
      {
        title: "Select",
        href: "/components/select",
        illustration: IconSelect,
      },
      {
        title: "Tabs",
        href: "/components/tabs",
        illustration: IconTabs,
      },
      {
        title: "TextField",
        href: "/components/text-field",
        illustration: IconTextField,
      },
      {
        title: "全て見る",
        href: "/components",
        illustration: IconSeeAll,
      },
    ],
  },
];
---

<TopLayout>
  <Header client:load />

  <Container data-name="top-container">
    <LinkContent content={content} client:idle />
    <Showcase />
    <ReleaseNote />
    <Contact />
  </Container>

  <BackgroundShape client:idle />

  <style is:global>
    @layer utilities {
      /* テーマによってsvgを内包するdivのmix-blend-modeを変更 */
      [data-name="top-background-shape"] > div {
        mix-blend-mode: multiply;
        [data-panda-theme="kurikawa"] & {
          mix-blend-mode: normal;
        }
        [data-panda-theme="sumire"] & {
          mix-blend-mode: normal;
        }
      }

      /*
      * getStartedのアイコンの色をテーマによって変更
      */
      :where(:root, :host) {
        --ex-getStartedIcon: var(--sd-reference-color-scale-purple-400);
      }
      [data-panda-theme="asagi"] {
        --ex-getStartedIcon: var(--sd-reference-color-scale-green-500);
      }
      [data-panda-theme="tsutuji"] {
        --ex-getStartedIcon: var(--sd-reference-color-scale-blue-400);
      }
      [data-panda-theme="kurikawa"] {
        --ex-getStartedIcon: var(--sd-reference-color-scale-yellow-400);
      }
      [data-panda-theme="sumire"] {
        --ex-getStartedIcon: var(--sd-reference-color-scale-blue-400);
      }
    }
  </style>
</TopLayout>
