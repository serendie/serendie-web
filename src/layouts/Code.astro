---
import { Button } from "@spread/ui";
import { Box, Flex, styled } from "@spread/ui/jsx";
import { Code as AstroCode } from "astro:components";
import type { BundledLanguage } from "shiki";

interface Props {
  title: string;
  description: string;
  code: string;
  storyUrl?: string;
  language?: BundledLanguage;
}


const {
  title, 
  description,
  code,
  storyUrl,
  language
} = Astro.props


const SubTitle = styled('h2',{
  base: {
    textStyle: "dic.system.typography.title.medium_expanded",
    mb: "dic.system.dimension.spacing.medium",
  }
})

const Description = styled('p',{
  base: {
    textStyle: "dic.dic.system.typography.body.extraSmall_expanded",
    mb: "dic.system.dimension.spacing.medium",
  }
})

const Container = styled('div',{
  base: {
    mb:"dic.system.dimension.spacing.threeExtraLarge",
  }
})

---


<Container>
  <Flex justifyContent={"space-between"}>
    <SubTitle>{title}</SubTitle>
    <Button>Storybook</Button>
  </Flex>
  <Description>{description}</Description>
  <Box>
    <slot />
    <Box mt="dic.system.dimension.spacing.threeExtraLarge">
      <Flex justifyContent={"space-between"}>
        <Button>
        Code
        </Button>
        <Button>Copy</Button>
      </Flex>
      <AstroCode code={code} lang={language??"tsx"} theme={"github-light"} />
    </Box>
  </Box>
</Container>